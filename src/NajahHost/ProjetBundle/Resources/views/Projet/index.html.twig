{% extends '::base.html.twig' %}

{% block body -%}
        <div class="container col-lg-10">
            <a class="btn btn-default" style="margin-bottom: 30px" href="{{ path('projet_new') }}">
                <i class="glyphicon glyphicon-plus"></i> Créer un nouveau projet
            </a>
        </div>
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Projet</h3>
                </div>
                <div class="input-group col-lg-11">
                    <input style="margin-left: 20px" id="filter" type="text" class="form-control"
                           placeholder="Recherche rapide"/>
                </div>
                <div class="panel-body">
                    <table class="table table-hover table-bordered table-condensed">
                        <thead>
                        <tr>
                            <th>Id</th>
                            <th>Titre</th>
                            <th>date de début</th>
                            <th>Date de fin</th>
                            <th>Actions</th>
                        </tr>
                        </thead>
                        <tbody class="searchable">
                        {% for entity in entities %}
    <tr>
        <td><a href="{{ path('projet_show', { 'id': entity.id }) }}">{{ entity.id }}</a></td>
        <td>{{ entity.titre }}</td>
        <td>{% if entity.dateD %}{{ entity.dateD|date('Y-m-d') }}{% endif %}</td>
        <td>{% if entity.dateF %}{{ entity.dateF|date('Y-m-d') }}{% endif %}</td>
        <td>
            <a class="btn btn-default btn-sm" href="{{ path('projet_show', { 'id': entity.id }) }}">
                <i class="glyphicon glyphicon-eye-open"></i> Afficher
            </a>
            <a class="btn btn-default btn-sm" href="{{ path('projet_edit', { 'id': entity.id }) }}">
                <i class="glyphicon glyphicon-pencil"></i> Modifier
            </a>

            <div class="btn-group btn-group-sm">
                <a href="#" class="btn btn-default">Taches</a>
                <a href="#" class="btn btn-default dropdown-toggle" data-toggle="dropdown"><span
                            class="caret"></span></a>
                <ul class="dropdown-menu">
                    <li><a href="{{ path('tache', { 'id_projet': entity.id }) }}">Voir
                            taches</a></li>
                    <li><a href="{{ path('tache_new', { 'id_projet': entity.id }) }}">Créer une
                            tache</a></li>
                </ul>
            </div>
            <a class="btn btn-danger btn-sm"
               href="{{ path('projet_supprimer', { 'id': entity.id }) }}">
                <i class="glyphicon glyphicon-remove"></i> Supprimer
            </a>
        </td>
    </tr>
{% endfor %}
                        </tbody>
                    </table>

                </div>
            </div>
        </div>
{% endblock %}

